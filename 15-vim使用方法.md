<!--markdown--># 搜索查找
`/foo`：查找字符串foo

`n`：查找下一个

`N`：查找上一个

> 查找支持正则表达式，例如`/vim$`匹配行尾的vim
> 查找特殊字符需要转义，例如`/vim\\$`匹配vim$

## 大小写敏感
查找时在末尾添加`\\c`表示不敏感查找，`\\C`表示大小写敏感查找。例如：`/foo\\c`，将会查找所有的"foo","FOO","Foo"等字符串。

vim默认采用大小写敏感查找，可以配置其他查找方式：
```
set ignorecase  #设置大小写不敏感查找
set smartcase  #如果有大写字母，则切换到大小写敏感查找
```
## 查找当前词
在normal模式下，按`*`(星号)可查找光标所在的词（word），前后为空白字符或标点符号。比如当前词为foo，可以匹配foo bar中的foo，但是foobar中的foo不能匹配。

按`g*`可以匹配当前词的字符串序列，如果当前词为foo，可以匹配foo bar和foobar中的foo都可以被匹配到。

# 查找替换
`:s`命令用来查找和替换字符串。语法如下：
`:{作用范围}s/{查找目标}/{替换为}/{替换标志}`

例如：`:%s/foo/bar/g`会在全文范围内（%）查找foo并替换为bar，所有出现都会被替换（g）。

**作用范围标识符**
作用范围标识分为当前行、全文、选区等等。
当前行为`空`：`:s/foo/bar/g`；
全文为`%`：`:%s/foo/bar/g`；
1-5行为`1,5`：`:1-5s/foo/bar/g`；
当前行与接下两行`.,+2`：`:.,+2s/foo/bar/g`；
选区，在Visul模式下选择区域后输入`:`，vim自动补全为`:'<,'>`，如:`'<,'>s/foo/bar/g`；

**替换标志**
标志为空表示从光标位置开始：`:%s/foo/bar`；
`i`表示大小写不敏感，`I`表示大小写敏感；
`c`表示需要确认，会询问 replace with bar (y/n/a/q/l/^E/^Y)?，按下`y`表示替换，`n`表示不替换，`a`表示替换所有，`q`表示退出查找模式，`l`表示替换当前位置并退出。`^E`与`^Y`是光标移动快捷键；

# 移动命令
`w`：向前移动一个单词

`b`：向后移动一个单词

`^`：移动到本行第一个非空白字符上

`0`,`HOME`：移动到本行第一个字符上

`$`：移动到行尾

`gg`：光标移动到文件首

`G`：光标移动到文件尾

`nG`：光标移动至第n行的行首

# 模式切换
`v`：可视模式（逐字）

`V`：可视模式（逐行）

`:!command`：不退出vim并执行命令

# 撤销和重做
`u`：撤销

`Ctrl + r`：重做

# 复制和粘贴

`yy`：拷贝当前行

`dd`：剪切当前行

`p`：在当前行下粘贴

可视模式下，`y`和`d`可以选择复制和粘贴

# 设置
大多数设置既可以保存到`~/.vimrc`中永久生效，也可以用`:set nu`的方式临时使用。

```
:set nu 显示行号
:syntax on 语法高亮
:set cindent 自动缩进
:%!xxd 二进制编辑视图
```
## 高亮设置 TODO

设置TAB为4个空格的方法，编辑`.vimrc`：
```
set ts=4
set expandtab
```

```
vim -b filename 以二进制打开文件
```

参考1：[vim全局，局部查找 替换字符串](https://blog.csdn.net/qq_35624263/article/details/77181057?depth_1-utm_source=distribute.pc_relevant.none-task&utm_source=distribute.pc_relevant.none-task)	